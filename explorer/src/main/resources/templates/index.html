<!doctype html>
<html class="no-js" lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <title>Nebulas BlockChain Explorer and Search</title>
    <meta name="description" content="Nebulas"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="apple-touch-icon" href="apple-touch-icon.png"/>
    <link rel="stylesheet" href="/webjars/bootstrap/3.3.7-1/css/bootstrap.min.css"
          th:href="@{${baseUrl + '/webjars/bootstrap/3.3.7-1/css/bootstrap.min.css'}}"/>
    <link rel="stylesheet" href="/css/common.css" th:href="@{${baseUrl+'/css/common.css'}}"/>
    <style>
        .container {
            background-color: #f7f7f7;
        }
        
        .top{
            margin-top: 12px;
        }

        .banner {
            margin-top: 20px;
        }

        .banner_left {
            height: 800px;
            /* background-color: gray; */
        }

        .banner_left .list_left {
            width: 100%;
            height: 725px;
            overflow: auto;
            /* border:2px solid black; */
        }

        .banner_left .list_tab {
            width: 100%;
            height: 60px;
            border-bottom: 3px solid #f7f7f7;
            background-color: #fff;
            position: relative;
        }

        .banner_left .list_tab .img {
            position: absolute;
            top: 33%;
            left: 2%;
            font-size: 16px;
        }

        .banner_left .list_tab .btn {
            position: absolute;
            right: 2%;
            top: 20%;
        }

        .list_left .list_1 {
            width: 100%;
            height: 120px;
            border-bottom: 4px solid #f7f7f7;
            background-color: #fff;
            position: relative;
        }

        .banner_right {
            height: 800px;
            /* background-color: blue; */
        }

        .banner_right .list_right {
            width: 100%;
            height: 725px;
            overflow: auto;
            /* border:2px solid black; */
        }

        .banner_right .list_tab {
            width: 100%;
            height: 60px;
            border-bottom: 3px solid #f7f7f7;
            background-color: #fff;
            position: relative;
        }

        .banner_right .list_tab .img {
            position: absolute;
            top: 33%;
            left: 2%;
            font-size: 16px;
        }

        .banner_right .list_tab .btn {
            position: absolute;
            right: 2%;
            top: 20%;
        }

        /* 右侧列表 状态不同 左边框有不同的状态颜色 */

        .list_right .list_2_1 {
            width: 100%;
            height: 120px;
            border-bottom: 4px solid #f7f7f7;
            background-color: #fff;
            border-left: 2px solid yellow;
            position: relative;

        }

        .list_right .list_2_2 {
            width: 100%;
            height: 120px;
            border-bottom: 4px solid #f7f7f7;
            background-color: #fff;
            border-left: 2px solid gray;
            position: relative;

        }

        .list_right .list_2_3 {
            width: 100%;
            height: 120px;
            border-bottom: 4px solid #f7f7f7;
            background-color: #fff;
            border-left: 2px solid red;
            position: relative;

        }

        .list_banner_left {
            background-color: gray;
            width: 30%;
            height: 90px;
            position: absolute;
            left: 2%;
            top: 12%;
            color: #fff;
        }

        .list_banner_left p {
            margin-left: 38px;
            margin-top: 18px;
        }

        .list_banner_left_p1 {
            margin-left: 40px;
        }

        .list_banner_left a {
            color: #fff;
        }

        .list_banner_right {
            width: 60%;
            height: 90px;
            position: absolute;
            left: 34%;
            top: 12%;
            padding-top: 3%;
        }

        .list_right_banner_left {
            width: 10%;
            height: 80px;
            position: absolute;
            top: 4%;
            left: 2%;
        }

        .list_right_banner_right {
            width: 80%;
            height: 90px;
            position: absolute;
            left: 14%;
            top: 12%;
        }

        .chart_banner {
            background-color: #fff;
            height: 278px;
        }

        #chart{
            max-width:800px;
            height:278px;
        }
        .chart_banner .name,.value{
            color:black;
            border-bottom: 1px inset;
            margin-left: 12px;
            margin-right: 12px;
        }
        .chart_banner .name{
            font-size: 30px;
        }
        .chart_banner .value{
            font-size: 60px;
        }
        .chart_banner .msg{
            color: black;
            font-size: 16px;
            margin-top: 24px;
        }
        .chart_banner .msg div{
            margin-top: 10px;
        }
        .chart_banner .msg .msg_change_right{
            float: right;
            margin-right: 10px;
        }
        .chart_banner .msg .msg_change_left{
            margin-left: 10px;
        }
        .red{
            color: red;
        }
        .green{
            color: green;
        }

        text.highcharts-credits {
            display: none;
        }
    </style>
</head>
<body>
<th:block th:replace="fragments::header(currentNav='home')"/>
<div class="container">
    <div class="top">
        <div class="row">
            <div class="col-md-8">
                <div id="chart"></div>
            </div>
            <div class="col-md-4">
                <div class="chart_banner">
                <div class="name">NAS</div>
                <div class="value" th:text="${market.priceUnit+market.price}">$66.66666</div>
                <div class="msg">
                    <div class="msg_change">
                        <span class="msg_change_left">24h Change : </span>
                        <span class="msg_change_right green" th:text="${market.change24h+'%'}">0%</span>
                    </div>
                    <div class="msg_volume">
                        <span class="msg_change_left">24h Volume :</span>
                        <span class="msg_change_right" th:text="${market.priceUnit+market.volume24h.toPlainString()}">$1238553218.123546</span>
                    </div>
                    <div class="msg_market">
                        <span class="msg_change_left">Market Cap :</span>
                        <span class="msg_change_right" th:text="${market.priceUnit+market.marketCap.toPlainString()}">$154542132</span>
                    </div>
                </div>

            </div>
            </div>
        </div>
    </div>
    <div class="banner">
        <div class="row">
            <div class="col-md-6 banner_left">
                <div class="list_tab">
                    <div class="img">
                        <span class="glyphicon glyphicon-th-large" aria-hidden="true"></span>Blocks
                    </div>
                    <a class="btn btn-default pull-right" href="/blocks" role="button">View All</a>
                </div>
                <div class="list_left">
                    <div class="list_1" th:each="blk,iterStat : ${blkList}">
                        <div class=" list_banner_left">
                            <p>
                                <a href="block/123" target="_blank"
                                   th:href="@{/block/{blkHeight}(blkHeight=${blk.height})}"
                                   th:text="'Block '+${blk.height}">%Block</a>
                            </p>
                            <p class="list_banner_left_p1" th:text="${#dates.format(blk.timestamp, 'yyyy-mm-dd hh:MM:ss')}"> >%Age</p>
                        </div>
                        <div class=" list_banner_right">
                            Mined By
                            <a href="address/0xe" th:href="@{/address/{miner}(miner=${blk.miner})}"
                               th:text="${pageStringUtil.replace(blk.miner,20,'...')}">%Name Tag</a>
                            <p class="mt16">
                                <a href="txs?block=123" th:href="@{/txs?block={blkHeight}(blkHeight=${blk.height})}"
                                   th:text="${txCntMap !=null && txCntMap.get(blk.height) !=null ? txCntMap.get(blk.height) : 0}+' txn'">
                                    <b>%txn</b>
                                </a>
                                <!--in 5 secs-->
                            </p>
                            <!--<p> Block Reward 3.23112 Ether</p>-->
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6 banner_right ">
                <div class="list_tab ">
                    <div class="img ">
                        <span class="glyphicon glyphicon-list" aria-hidden="true"></span>Transation
                    </div>
                    <a class="btn btn-default pull-right" href="/txs" role="button">View All</a>
                </div>
                <div class="list_right ">
                    <div class="list_2_1 " th:class="'list_2_'+${iterStat.index%3+1}" th:each="tx,iterStat : ${txList}">
                        <div class="list_right_banner_left ">
                            <img src="../img/icon.png " height="42 " width="34 " alt=" "/>
                        </div>
                        <div class="list_right_banner_right ">
                            <p>
                                <a href="tx/0x13273e" th:href="@{/tx/{hash}(hash=${tx.hash})}"
                                   th:text="'TX# '+${pageStringUtil.replace(tx.hash,20,'...')}">TX#
                                    0x180ba8f73897c0cb26d76265...</a>
                            </p>
                            <p>From
                                <a href="address/0x9901c66" th:href="@{/address/{from}(from=${tx.from})}"
                                   th:text="${pageStringUtil.replace(tx.from,20,'...')}">0x180ba8f73897c0cb... </a>To
                                <a href="address/0x9901c66" th:href="@{/address/{to}(from=${tx.to})}"
                                   th:text="${pageStringUtil.replace(tx.to,20,'...')}">0x180ba8f73897c0cb... </a>
                            </p>
                            <p th:text="'Amount '+${tx.value} + ' Nas'">Amount 0 Ether</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<th:block th:replace="fragments::footer"/>
</body>
<th:block th:replace="fragments::scripts"/>
<script src="https://img.hcharts.cn/highcharts/highcharts.js"></script>
<script th:inline="javascript">
    /*<![CDATA[*/

    const dateList = [[${dateList}]];
    const valueList = [[${valueList}]];

    var chart = Highcharts.chart('chart', {
        title: {
            text: 'Transactions'
        },
        exporting: {
            enabled: false
        },
        subtitle: {
            text: 'Source: Nebulas'
        },
        xAxis: {
            categories: dateList
        },
        yAxis: {
            title: {
                text: 'Transactions'
            }
        },
        legend: {
            layout: 'vertical',
            align: 'right',
            verticalAlign: 'middle'
        },
        plotOptions: {
            series: {
                label: {
                    connectorAllowed: false
                }
            }
        },
        series: [{
            showInLegend: false,
            name: 'transation',
            data: valueList
        }],
        responsive: {
            rules: [{
                condition: {
                    maxWidth: 500
                },
                chartOptions: {
                    legend: {
                        layout: 'horizontal',
                        align: 'center',
                        verticalAlign: 'bottom'
                    }
                }
            }]
        }
    });
    /*]]>*/
</script>
</html>